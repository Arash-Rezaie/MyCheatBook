{"ast":null,"code":"export class Shape {\n  constructor() {\n    this.fillColor = undefined;\n    this.label = undefined;\n    this.strokeWidth = 0;\n    this.strokeColor = '#000';\n    this.strokeStyle = [1, 0];\n    this.offset = [0, 0];\n    this.basePosition = [0, 0];\n    this.xy = [0, 0];\n  }\n  /**\n   * calculate final position\n   */\n\n\n  calculateFinalPosition() {\n    this.xy = [this.basePosition[0] + this.offset[0], this.basePosition[1] + this.offset[1]];\n  }\n  /**\n   * @param fillColor internal color. ex. 'black' or '#000' or rgb(0,0,0) or hsl(0,0%,0%)\n   * @returns {Shape}\n   */\n\n\n  setFillColor(fillColor) {\n    this.fillColor = fillColor;\n    return this;\n  }\n  /**\n   * @param strokeWidth int value\n   * @returns {Shape}\n   */\n\n\n  setStrokeWidth(strokeWidth) {\n    this.strokeWidth = strokeWidth;\n    return this;\n  }\n  /**\n   * set both fill color and stroke color\n   * @param color [green, blue, red, yellow, purple, brown, orange, pink]\n   * @return {Shape}\n   */\n\n\n  setColor(color) {\n    this.setFillColor(Shape.colors[color][0]);\n    this.setStrokeColor(Shape.colors[color][1]);\n    return this;\n  }\n  /**\n   * @param strokeColor stroke color. ex. 'black' or '#000' or rgb(0,0,0) or hsl(0,0%,0%)\n   * @returns {Shape}\n   */\n\n\n  setStrokeColor(strokeColor) {\n    this.strokeColor = strokeColor;\n    return this;\n  }\n  /**\n   * make line dashed\n   * @param strokeStyle [int,int]. It means [fill, empty]\n   * @returns {Shape}\n   */\n\n\n  setStrokeStyle(strokeStyle) {\n    this.strokeStyle = strokeStyle;\n    return this;\n  }\n  /**\n   * label is going to be shown at center of this shape\n   * @param label string or Text object\n   * @returns {Shape}\n   */\n\n\n  setLabel(label) {\n    if (typeof label === \"string\") {\n      label = new Text().setPosition(this.getCenterPoint()).setLabel(label);\n    }\n\n    this.label = label;\n    return this;\n  }\n  /**\n   * @param position [x,y]\n   * @returns {Shape}\n   */\n\n\n  setPosition(position) {\n    this.basePosition = position;\n    this.calculateFinalPosition();\n    return this;\n  }\n  /**\n   * @param offset [xOffset,yOffset]\n   * @returns {Shape}\n   */\n\n\n  setOffset(offset) {\n    this.offset = offset;\n    this.calculateFinalPosition();\n    return this;\n  }\n  /**\n   * @param shape another shape object\n   * @returns {Shape}\n   */\n\n\n  alignTo(shape) {\n    debugger;\n    this.setPosition(shape.getCenterPoint());\n    return this;\n  }\n  /**\n   * get final position\n   * @returns {*[]}\n   */\n\n\n  getPosition() {\n    return this.xy;\n  }\n  /**\n   * get center point of this shape\n   */\n\n\n  getCenterPoint() {\n    return this.getPosition();\n  }\n\n  getExternalPoint(angle, gap) {\n    return this.getPosition();\n  }\n  /**\n   * render label object\n   * @param ctx\n   */\n\n\n  showLabel(ctx) {\n    let p = this.getCenterPoint();\n    this.label.setPosition(p);\n    this.label.render(ctx);\n  }\n  /**\n   * apply configurations\n   * @param canvasCtx\n   */\n\n\n  render(canvasCtx) {\n    canvasCtx.fillStyle = this.fillColor;\n    canvasCtx.lineWidth = this.strokeWidth;\n    canvasCtx.strokeStyle = this.strokeColor;\n    canvasCtx.setLineDash(this.strokeStyle);\n    if (this.fillColor) canvasCtx.fill();\n    if (this.strokeWidth > 0) canvasCtx.stroke();\n    if (this.label) this.showLabel(canvasCtx);\n  }\n\n}\nShape.colors = {\n  'green': ['rgb(51, 204, 51)', 'rgb(0, 153, 51)'],\n  'blue': ['rgb(51, 102, 255)', 'rgb(0, 0, 255)'],\n  'red': ['rgb(255,0,0)', 'rgb(137,16,16)'],\n  'yellow': ['rgb(255, 255, 102)', 'rgb(255, 204, 0)'],\n  'purple': ['rgb(153, 51, 255)', 'rgb(121,7,191)'],\n  'brown': ['rgb(153, 102, 0)', 'rgb(102, 51, 0)'],\n  'orange': ['rgb(255, 153, 51)', 'rgb(255, 102, 0)'],\n  'pink': ['rgb(255, 102, 153)', 'rgb(255, 51, 153)']\n};\nexport class Text extends Shape {\n  constructor() {\n    super();\n    this.setFillColor('black');\n    this.setFontSize('12px');\n    this.setFontStyle('');\n  }\n\n  setLabel(label) {\n    this.txt = label;\n    return this;\n  }\n  /**\n   * @param fontSize ex. 12px\n   * @returns {Text}\n   */\n\n\n  setFontSize(fontSize) {\n    this.fontSize = fontSize;\n    return this;\n  }\n  /**\n   * @param fontStyle ex. 'italic' or 'bold' or both 'italic bold'\n   * * @returns {Text}\n   */\n\n\n  setFontStyle(fontStyle) {\n    this.fontStyle = fontStyle;\n    return this;\n  }\n\n  render(canvasCtx) {\n    canvasCtx.beginPath();\n    super.render(canvasCtx);\n    canvasCtx.font = this.fontStyle + ' ' + this.fontSize + \" Arial\";\n    canvasCtx.textAlign = \"center\";\n    let c = this.getPosition();\n    canvasCtx.fillText(this.txt, c[0], c[1]);\n    canvasCtx.closePath();\n  }\n\n}","map":{"version":3,"sources":["/media/arash/SanDisk/MyCheatBook/src/components/drawbox/simple/shape.js"],"names":["Shape","constructor","fillColor","undefined","label","strokeWidth","strokeColor","strokeStyle","offset","basePosition","xy","calculateFinalPosition","setFillColor","setStrokeWidth","setColor","color","colors","setStrokeColor","setStrokeStyle","setLabel","Text","setPosition","getCenterPoint","position","setOffset","alignTo","shape","getPosition","getExternalPoint","angle","gap","showLabel","ctx","p","render","canvasCtx","fillStyle","lineWidth","setLineDash","fill","stroke","setFontSize","setFontStyle","txt","fontSize","fontStyle","beginPath","font","textAlign","c","fillText","closePath"],"mappings":"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","sourcesContent":["export class Shape {\n    static colors = {\n        'green': ['rgb(51, 204, 51)', 'rgb(0, 153, 51)'],\n        'blue': ['rgb(51, 102, 255)', 'rgb(0, 0, 255)'],\n        'red': ['rgb(255,0,0)', 'rgb(137,16,16)'],\n        'yellow': ['rgb(255, 255, 102)', 'rgb(255, 204, 0)'],\n        'purple': ['rgb(153, 51, 255)', 'rgb(121,7,191)'],\n        'brown': ['rgb(153, 102, 0)', 'rgb(102, 51, 0)'],\n        'orange': ['rgb(255, 153, 51)', 'rgb(255, 102, 0)'],\n        'pink': ['rgb(255, 102, 153)', 'rgb(255, 51, 153)'],\n    };\n\n    constructor() {\n        this.fillColor = undefined;\n        this.label = undefined;\n        this.strokeWidth = 0;\n        this.strokeColor = '#000';\n        this.strokeStyle = [1, 0];\n        this.offset = [0, 0];\n        this.basePosition = [0, 0];\n        this.xy = [0, 0];\n    }\n\n    /**\n     * calculate final position\n     */\n    calculateFinalPosition() {\n        this.xy = [this.basePosition[0] + this.offset[0], this.basePosition[1] + this.offset[1]];\n    }\n\n    /**\n     * @param fillColor internal color. ex. 'black' or '#000' or rgb(0,0,0) or hsl(0,0%,0%)\n     * @returns {Shape}\n     */\n    setFillColor(fillColor) {\n        this.fillColor = fillColor;\n        return this;\n    }\n\n    /**\n     * @param strokeWidth int value\n     * @returns {Shape}\n     */\n    setStrokeWidth(strokeWidth) {\n        this.strokeWidth = strokeWidth;\n        return this;\n    }\n\n    /**\n     * set both fill color and stroke color\n     * @param color [green, blue, red, yellow, purple, brown, orange, pink]\n     * @return {Shape}\n     */\n    setColor(color) {\n        this.setFillColor(Shape.colors[color][0]);\n        this.setStrokeColor(Shape.colors[color][1]);\n        return this;\n    }\n\n    /**\n     * @param strokeColor stroke color. ex. 'black' or '#000' or rgb(0,0,0) or hsl(0,0%,0%)\n     * @returns {Shape}\n     */\n    setStrokeColor(strokeColor) {\n        this.strokeColor = strokeColor;\n        return this;\n    }\n\n    /**\n     * make line dashed\n     * @param strokeStyle [int,int]. It means [fill, empty]\n     * @returns {Shape}\n     */\n    setStrokeStyle(strokeStyle) {\n        this.strokeStyle = strokeStyle;\n        return this;\n    }\n\n    /**\n     * label is going to be shown at center of this shape\n     * @param label string or Text object\n     * @returns {Shape}\n     */\n    setLabel(label) {\n        if (typeof label === \"string\") {\n            label = new Text()\n                .setPosition(this.getCenterPoint())\n                .setLabel(label)\n        }\n        this.label = label;\n        return this;\n    }\n\n    /**\n     * @param position [x,y]\n     * @returns {Shape}\n     */\n    setPosition(position) {\n        this.basePosition = position;\n        this.calculateFinalPosition();\n        return this;\n    }\n\n    /**\n     * @param offset [xOffset,yOffset]\n     * @returns {Shape}\n     */\n    setOffset(offset) {\n        this.offset = offset;\n        this.calculateFinalPosition();\n        return this;\n    }\n\n    /**\n     * @param shape another shape object\n     * @returns {Shape}\n     */\n    alignTo(shape) {\n        debugger\n        this.setPosition(shape.getCenterPoint());\n        return this;\n    }\n\n    /**\n     * get final position\n     * @returns {*[]}\n     */\n    getPosition() {\n        return this.xy;\n    }\n\n    /**\n     * get center point of this shape\n     */\n    getCenterPoint() {\n        return this.getPosition();\n    }\n\n    getExternalPoint(angle, gap) {\n        return this.getPosition();\n    }\n\n    /**\n     * render label object\n     * @param ctx\n     */\n    showLabel(ctx) {\n        let p = this.getCenterPoint();\n        this.label.setPosition(p);\n        this.label.render(ctx);\n    }\n\n    /**\n     * apply configurations\n     * @param canvasCtx\n     */\n    render(canvasCtx) {\n        canvasCtx.fillStyle = this.fillColor;\n        canvasCtx.lineWidth = this.strokeWidth;\n        canvasCtx.strokeStyle = this.strokeColor;\n        canvasCtx.setLineDash(this.strokeStyle);\n        if (this.fillColor)\n            canvasCtx.fill();\n        if (this.strokeWidth > 0)\n            canvasCtx.stroke();\n        if (this.label)\n            this.showLabel(canvasCtx);\n    }\n}\n\nexport class Text extends Shape {\n    constructor() {\n        super();\n        this.setFillColor('black');\n        this.setFontSize('12px');\n        this.setFontStyle('');\n    }\n\n    setLabel(label) {\n        this.txt = label;\n        return this;\n    }\n\n    /**\n     * @param fontSize ex. 12px\n     * @returns {Text}\n     */\n    setFontSize(fontSize) {\n        this.fontSize = fontSize;\n        return this;\n    }\n\n    /**\n     * @param fontStyle ex. 'italic' or 'bold' or both 'italic bold'\n     * * @returns {Text}\n     */\n    setFontStyle(fontStyle) {\n        this.fontStyle = fontStyle;\n        return this;\n    }\n\n    render(canvasCtx) {\n        canvasCtx.beginPath();\n        super.render(canvasCtx);\n        canvasCtx.font = this.fontStyle + ' ' + this.fontSize + \" Arial\";\n        canvasCtx.textAlign = \"center\";\n        let c = this.getPosition();\n        canvasCtx.fillText(this.txt, c[0], c[1]);\n        canvasCtx.closePath();\n    }\n}"]},"metadata":{},"sourceType":"module"}