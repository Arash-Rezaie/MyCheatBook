{"ast":null,"code":"import { Circle } from \"../simple/circle\";\nimport { Text } from \"../simple/shape\";\nimport { WrapperCaption } from \"./wrapper-caption\";\nimport { WrapperVector } from \"./wrapper-line\";\nexport class WrapperNode extends Circle {\n  constructor(handler) {\n    super();\n    this.handler = handler;\n    this.setRadius(20).setStrokeWidth(3).setStrokeColor('black').setFillColor('yellow');\n  }\n\n  getLabel() {\n    let lbl = super.getLabel();\n\n    if (typeof lbl === 'string') {\n      lbl = new Text().setLabel(lbl).setFontSize('20px').setOffset([0, 6]);\n    } else {\n      lbl = this.handler.generateShape(lbl);\n    }\n\n    return lbl.alignTo(this);\n  }\n\n  connectTo(refId) {\n    this.handler.addDirectShape(new WrapperVector(this.handler).between(this, this.handler.getTargetShape(refId), 5));\n    return this;\n  }\n\n  setCaptions(caps) {\n    if (caps[0] === undefined) caps = [caps];\n    caps.forEach((v, i) => {\n      this.handler.addDirectShape(new WrapperCaption(this.handler).alignTo(this).setOffset(v.offset ? v.offset : [28, caps.length * -11.5 + i * 25]).setWidth(v.w).setHeight(20).setLabel(v.t).setColor(v.c).setStrokeWidth(2));\n    });\n    return this;\n  }\n\n}","map":{"version":3,"sources":["/media/arash/SanDisk/MyCheatBook/src/components/drawbox/wrappered/wrapper-node.js"],"names":["Circle","Text","WrapperCaption","WrapperVector","WrapperNode","constructor","handler","setRadius","setStrokeWidth","setStrokeColor","setFillColor","getLabel","lbl","setLabel","setFontSize","setOffset","generateShape","alignTo","connectTo","refId","addDirectShape","between","getTargetShape","setCaptions","caps","undefined","forEach","v","i","offset","length","setWidth","w","setHeight","t","setColor","c"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,kBAArB;AACA,SAAQC,IAAR,QAAmB,iBAAnB;AACA,SAAQC,cAAR,QAA6B,mBAA7B;AACA,SAAQC,aAAR,QAA4B,gBAA5B;AAEA,OAAO,MAAMC,WAAN,SAA0BJ,MAA1B,CAAiC;AACpCK,EAAAA,WAAW,CAACC,OAAD,EAAU;AACjB;AACA,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,SAAL,CAAe,EAAf,EACKC,cADL,CACoB,CADpB,EAEKC,cAFL,CAEoB,OAFpB,EAGKC,YAHL,CAGkB,QAHlB;AAIH;;AAEDC,EAAAA,QAAQ,GAAG;AACP,QAAIC,GAAG,GAAG,MAAMD,QAAN,EAAV;;AACA,QAAI,OAAOC,GAAP,KAAe,QAAnB,EAA6B;AACzBA,MAAAA,GAAG,GAAG,IAAIX,IAAJ,GACDY,QADC,CACQD,GADR,EAEDE,WAFC,CAEW,MAFX,EAGDC,SAHC,CAGS,CAAC,CAAD,EAAI,CAAJ,CAHT,CAAN;AAIH,KALD,MAKO;AACHH,MAAAA,GAAG,GAAG,KAAKN,OAAL,CAAaU,aAAb,CAA2BJ,GAA3B,CAAN;AACH;;AACD,WAAOA,GAAG,CAACK,OAAJ,CAAY,IAAZ,CAAP;AACH;;AAEDC,EAAAA,SAAS,CAACC,KAAD,EAAQ;AACb,SAAKb,OAAL,CAAac,cAAb,CAA4B,IAAIjB,aAAJ,CAAkB,KAAKG,OAAvB,EACvBe,OADuB,CACf,IADe,EACT,KAAKf,OAAL,CAAagB,cAAb,CAA4BH,KAA5B,CADS,EAC2B,CAD3B,CAA5B;AAEA,WAAO,IAAP;AACH;;AAEDI,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,QAAIA,IAAI,CAAC,CAAD,CAAJ,KAAYC,SAAhB,EACID,IAAI,GAAG,CAACA,IAAD,CAAP;AACJA,IAAAA,IAAI,CAACE,OAAL,CAAa,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACnB,WAAKtB,OAAL,CAAac,cAAb,CACI,IAAIlB,cAAJ,CAAmB,KAAKI,OAAxB,EACKW,OADL,CACa,IADb,EAEKF,SAFL,CAEeY,CAAC,CAACE,MAAF,GAAWF,CAAC,CAACE,MAAb,GAAsB,CAAC,EAAD,EAAML,IAAI,CAACM,MAAL,GAAc,CAAC,IAAf,GAAuBF,CAAC,GAAG,EAAjC,CAFrC,EAGKG,QAHL,CAGcJ,CAAC,CAACK,CAHhB,EAIKC,SAJL,CAIe,EAJf,EAKKpB,QALL,CAKcc,CAAC,CAACO,CALhB,EAMKC,QANL,CAMcR,CAAC,CAACS,CANhB,EAOK5B,cAPL,CAOoB,CAPpB,CADJ;AAUH,KAXD;AAYA,WAAO,IAAP;AACH;;AA7CmC","sourcesContent":["import {Circle} from \"../simple/circle\";\nimport {Text} from \"../simple/shape\";\nimport {WrapperCaption} from \"./wrapper-caption\";\nimport {WrapperVector} from \"./wrapper-line\";\n\nexport class WrapperNode extends Circle {\n    constructor(handler) {\n        super();\n        this.handler = handler;\n        this.setRadius(20)\n            .setStrokeWidth(3)\n            .setStrokeColor('black')\n            .setFillColor('yellow');\n    }\n\n    getLabel() {\n        let lbl = super.getLabel();\n        if (typeof lbl === 'string') {\n            lbl = new Text()\n                .setLabel(lbl)\n                .setFontSize('20px')\n                .setOffset([0, 6]);\n        } else {\n            lbl = this.handler.generateShape(lbl);\n        }\n        return lbl.alignTo(this);\n    }\n\n    connectTo(refId) {\n        this.handler.addDirectShape(new WrapperVector(this.handler)\n            .between(this, this.handler.getTargetShape(refId), 5));\n        return this;\n    }\n\n    setCaptions(caps) {\n        if (caps[0] === undefined)\n            caps = [caps];\n        caps.forEach((v, i) => {\n            this.handler.addDirectShape(\n                new WrapperCaption(this.handler)\n                    .alignTo(this)\n                    .setOffset(v.offset ? v.offset : [28, (caps.length * -11.5 + (i * 25))])\n                    .setWidth(v.w)\n                    .setHeight(20)\n                    .setLabel(v.t)\n                    .setColor(v.c)\n                    .setStrokeWidth(2)\n            )\n        });\n        return this;\n    }\n}"]},"metadata":{},"sourceType":"module"}