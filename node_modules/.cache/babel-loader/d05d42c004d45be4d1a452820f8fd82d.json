{"ast":null,"code":"import _classCallCheck from\"/media/arash/usb_stick/my-cheat-book/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/arash/usb_stick/my-cheat-book/node_modules/@babel/runtime/helpers/esm/createClass\";var Events={/**Triggered when the mouse button is clicked and released*/CLICK:'click',/**Triggered when the mouse button is clicked and released twice.*/DB_CLICK:'dbclick',/**Triggered when the mouse button is clicked*/MOUSE_DOWN:'mousedown',/**Triggered when the pointer is moved to be within the screen region occupied by the element or one of its descendants*/MOUSE_ENTER:'mouseenter',/**Triggered when the pointer is moved to be outside the screen region occupied by the element and all its descendants.*/MOUSE_LEAVE:'mouseleave',/**Triggered when the pointer is moved while over the element*/MOUSE_MOVE:'mousemove',/**This is the same as for mouseleave, except that this event will trigger while the pointer still over the descendant element.*/MOUSE_OUT:'mouseout',/**This is the same as for mouseenter, except that this event will trigger while the pointer is still over a descendant element.*/MOUSE_OVER:'mouseover',/**Trigger when the mouse button is released*/MOUSE_UP:'mouseup',/**Trigger when right mouse button is pressed*/CONTEXT_MENU:'contextmenu',/**Check if target mouse button is the primary one*/IS_MOUSE_LEFT:0,/**Check if target mouse button is the middle one*/IS_MOUSE_MIDDLE:1,/**Check if target mouse button is the secondary one*/IS_MOUSE_RIGHT:2,/**Check if target mouse button is the back one*/IS_MOUSE_X1:3,/**Check if target mouse button is the forward one*/IS_MOUSE_X2:4,/**Tiggered when the user presses a key*/KEY_DOWN:'keydown',/**Triggered when the user presses and releases a key.*/KEY_PRESS:'keypress',/**Triggered when the user releases the key*/KEY_UP:'keyup',/**Is Triggered when the element loses the focus*/BLUR:'blur',/**Is Triggered when the element gains the focus*/FOCUS:'focus',/**Is triggered when the element is just about to gain the focus.*/FOCUS_IN:'focusin',/**Is Triggered when the element is just about the lose focus*/FOCUS_OUT:'focusout',/**The element that is about to gain or lose the focus.*/RELATED_TARGET:'relatedTarget',/**Triggered if the target button is shift*/SHIFT:'Shift',/**Triggered if the target button is left-shift*/SHIFT_LEFT:'ShiftLeft',/**Triggered if the target button is right-shift*/SHIFT_RIGHT:'ShiftRight',/**Triggered if the target button is Alt*/ALT:'Alt',/**Triggered if the target button is ctrl*/CTRL:'Ctrl',/**Triggered if the target button is cmd in Mac Os*/META:'Cmd',/**Triggered if the target button is a digit*/DIGIT:'Digit',/**Triggered if the target button is enter*/ENTER:'Enter',/**Triggered if the target button is backspace*/BACKSPACE:'Backspace',/**Triggered if the target button is tab*/TAB:'Tap',/**Triggered if the target button is space*/SPACE:'Space',/**Triggered when user scrolls*/SCROLL:'scroll'};var EventDispatcher=/*#__PURE__*/function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher);this.eventDispatchers=[];}_createClass(EventDispatcher,[{key:\"register\",value:function register(event,listener){var name=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!this.eventDispatchers[event]){var listeners=[];this.eventDispatchers[event]={listeners:listeners,docListener:function docListener(e){return listeners.forEach(function(k){return k.listener(e);});}};}if(name!=null&&this.exists(event,name)>=0){throw new Error('This event dispatcher has declared before');}this.eventDispatchers[event].listeners.push({listener:listener,name:name});document.addEventListener(event,this.eventDispatchers[event].docListener);}},{key:\"unregister\",value:function unregister(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(event!=null){if(name!=null){var i=this.exists(event,name);if(i>=0)this.eventDispatchers[event].listeners.splice(i,1);if(this.eventDispatchers[event].listeners.length===0)this.removeEvent(event);}else{this.removeEvent(event);}for(var _i in this.eventDispatchers){return;}//to check if arr is empty\nthis.eventDispatchers=[];}else{for(var d in this.eventDispatchers){this.removeDocListener(d);}this.eventDispatchers=[];}}},{key:\"exists\",value:function exists(event){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.eventDispatchers[event]){if(name==null){return 0;}else{var a=this.eventDispatchers[event].listeners;for(var i=a.length-1;i>=0;i--){if(a[i].name===name)return i;}}}return-1;}},{key:\"removeEvent\",value:function removeEvent(event){this.removeDocListener(event);delete this.eventDispatchers[event];}},{key:\"removeDocListener\",value:function removeDocListener(eventName){document.removeEventListener(eventName,this.eventDispatchers[eventName].docListener);}}]);return EventDispatcher;}();export{EventDispatcher,Events};","map":{"version":3,"sources":["/media/arash/usb_stick/my-cheat-book/src/tools/event-dispatcher.js"],"names":["Events","CLICK","DB_CLICK","MOUSE_DOWN","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_MOVE","MOUSE_OUT","MOUSE_OVER","MOUSE_UP","CONTEXT_MENU","IS_MOUSE_LEFT","IS_MOUSE_MIDDLE","IS_MOUSE_RIGHT","IS_MOUSE_X1","IS_MOUSE_X2","KEY_DOWN","KEY_PRESS","KEY_UP","BLUR","FOCUS","FOCUS_IN","FOCUS_OUT","RELATED_TARGET","SHIFT","SHIFT_LEFT","SHIFT_RIGHT","ALT","CTRL","META","DIGIT","ENTER","BACKSPACE","TAB","SPACE","SCROLL","EventDispatcher","eventDispatchers","event","listener","name","listeners","docListener","e","forEach","k","exists","Error","push","document","addEventListener","i","splice","length","removeEvent","d","removeDocListener","a","eventName","removeEventListener"],"mappings":"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","sourcesContent":["const Events = {\n    /**Triggered when the mouse button is clicked and released*/\n    CLICK: 'click',\n    /**Triggered when the mouse button is clicked and released twice.*/\n    DB_CLICK: 'dbclick',\n    /**Triggered when the mouse button is clicked*/\n    MOUSE_DOWN: 'mousedown',\n    /**Triggered when the pointer is moved to be within the screen region occupied by the element or one of its descendants*/\n    MOUSE_ENTER: 'mouseenter',\n    /**Triggered when the pointer is moved to be outside the screen region occupied by the element and all its descendants.*/\n    MOUSE_LEAVE: 'mouseleave',\n    /**Triggered when the pointer is moved while over the element*/\n    MOUSE_MOVE: 'mousemove',\n    /**This is the same as for mouseleave, except that this event will trigger while the pointer still over the descendant element.*/\n    MOUSE_OUT: 'mouseout',\n    /**This is the same as for mouseenter, except that this event will trigger while the pointer is still over a descendant element.*/\n    MOUSE_OVER: 'mouseover',\n    /**Trigger when the mouse button is released*/\n    MOUSE_UP: 'mouseup',\n    /**Trigger when right mouse button is pressed*/\n    CONTEXT_MENU: 'contextmenu',\n    /**Check if target mouse button is the primary one*/\n    IS_MOUSE_LEFT: 0,\n    /**Check if target mouse button is the middle one*/\n    IS_MOUSE_MIDDLE: 1,\n    /**Check if target mouse button is the secondary one*/\n    IS_MOUSE_RIGHT: 2,\n    /**Check if target mouse button is the back one*/\n    IS_MOUSE_X1: 3,\n    /**Check if target mouse button is the forward one*/\n    IS_MOUSE_X2: 4,\n    /**Tiggered when the user presses a key*/\n    KEY_DOWN: 'keydown',\n    /**Triggered when the user presses and releases a key.*/\n    KEY_PRESS: 'keypress',\n    /**Triggered when the user releases the key*/\n    KEY_UP: 'keyup',\n    /**Is Triggered when the element loses the focus*/\n    BLUR: 'blur',\n    /**Is Triggered when the element gains the focus*/\n    FOCUS: 'focus',\n    /**Is triggered when the element is just about to gain the focus.*/\n    FOCUS_IN: 'focusin',\n    /**Is Triggered when the element is just about the lose focus*/\n    FOCUS_OUT: 'focusout',\n    /**The element that is about to gain or lose the focus.*/\n    RELATED_TARGET: 'relatedTarget',\n    /**Triggered if the target button is shift*/\n    SHIFT: 'Shift',\n    /**Triggered if the target button is left-shift*/\n    SHIFT_LEFT: 'ShiftLeft',\n    /**Triggered if the target button is right-shift*/\n    SHIFT_RIGHT: 'ShiftRight',\n    /**Triggered if the target button is Alt*/\n    ALT: 'Alt',\n    /**Triggered if the target button is ctrl*/\n    CTRL: 'Ctrl',\n    /**Triggered if the target button is cmd in Mac Os*/\n    META: 'Cmd',\n    /**Triggered if the target button is a digit*/\n    DIGIT: 'Digit',\n    /**Triggered if the target button is enter*/\n    ENTER: 'Enter',\n    /**Triggered if the target button is backspace*/\n    BACKSPACE: 'Backspace',\n    /**Triggered if the target button is tab*/\n    TAB: 'Tap',\n    /**Triggered if the target button is space*/\n    SPACE: 'Space',\n    /**Triggered when user scrolls*/\n    SCROLL: 'scroll',\n};\n\nclass EventDispatcher {\n    eventDispatchers = [];\n\n    register(event, listener, name = null) {\n        if (!this.eventDispatchers[event]) {\n            let listeners = [];\n            this.eventDispatchers[event] = {\n                listeners: listeners, docListener: e => listeners.forEach(k => k.listener(e))\n            };\n        }\n        if (name != null && this.exists(event, name) >= 0) {\n            throw new Error('This event dispatcher has declared before');\n        }\n\n        this.eventDispatchers[event].listeners.push({listener: listener, name: name});\n        document.addEventListener(event, this.eventDispatchers[event].docListener);\n    }\n\n    unregister(event = null, name = null) {\n        if (event != null) {\n            if (name != null) {\n                let i = this.exists(event, name);\n                if (i >= 0)\n                    this.eventDispatchers[event].listeners.splice(i, 1);\n                if (this.eventDispatchers[event].listeners.length === 0)\n                    this.removeEvent(event);\n            } else {\n                this.removeEvent(event);\n            }\n            for (let i in this.eventDispatchers) return;//to check if arr is empty\n            this.eventDispatchers = [];\n        } else {\n            for (let d in this.eventDispatchers)\n                this.removeDocListener(d);\n            this.eventDispatchers = [];\n        }\n    }\n\n    exists(event, name = null) {\n        if (this.eventDispatchers[event]) {\n            if (name == null) {\n                return 0;\n            } else {\n                let a = this.eventDispatchers[event].listeners;\n                for (let i = a.length - 1; i >= 0; i--)\n                    if (a[i].name === name)\n                        return i;\n            }\n        }\n        return -1;\n    }\n\n    removeEvent(event) {\n        this.removeDocListener(event);\n        delete this.eventDispatchers[event];\n    }\n\n    removeDocListener(eventName) {\n        document.removeEventListener(eventName, this.eventDispatchers[eventName].docListener);\n    }\n}\n\nexport {\n    EventDispatcher\n    ,\n    Events\n};"]},"metadata":{},"sourceType":"module"}